!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4fcc5a39-923a-4ec4-90e6-3af34aa91072",e._sentryDebugIdIdentifier="sentry-dbid-4fcc5a39-923a-4ec4-90e6-3af34aa91072")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74611],{74611:function(e,t,n){"use strict";n.d(t,{U:function(){return E},Z:function(){return P}});var r,i=n(94713),o=n(23810),u=n(12100),c=n(4108),a=n(18472),s=n(71567),l=n(32871),d=n(34880),f=n(8512),m=n.n(f),p=n(52106),g=n.n(p),b=new(m())({id:"groups-cd35846384aae5e98a27541835c5c5b8",use:"groups-cd35846384aae5e98a27541835c5c5b8-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="groups-cd35846384aae5e98a27541835c5c5b8"><rect fill="none" height="24" width="24" /><g><path d="M12,12.75c1.63,0,3.07,0.39,4.24,0.9c1.08,0.48,1.76,1.56,1.76,2.73L18,17c0,0.55-0.45,1-1,1H7c-0.55,0-1-0.45-1-1l0-0.61 c0-1.18,0.68-2.26,1.76-2.73C8.93,13.14,10.37,12.75,12,12.75z M4,13c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2s-2,0.9-2,2 C2,12.1,2.9,13,4,13z M5.13,14.1C4.76,14.04,4.39,14,4,14c-0.99,0-1.93,0.21-2.78,0.58C0.48,14.9,0,15.62,0,16.43L0,17 c0,0.55,0.45,1,1,1l3.5,0v-1.61C4.5,15.56,4.73,14.78,5.13,14.1z M20,13c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2s-2,0.9-2,2 C18,12.1,18.9,13,20,13z M24,16.43c0-0.81-0.48-1.53-1.22-1.85C21.93,14.21,20.99,14,20,14c-0.39,0-0.76,0.04-1.13,0.1 c0.4,0.68,0.63,1.46,0.63,2.29V18l3.5,0c0.55,0,1-0.45,1-1L24,16.43z M12,6c1.66,0,3,1.34,3,3c0,1.66-1.34,3-3,3s-3-1.34-3-3 C9,7.34,10.34,6,12,6z" /></g></symbol>'});g().add(b);var v=n(36336),y=n(79811),h=n(38737),w=n(59024),j=n(8500),_=n(73710),Z=n(78297),O=n.n(Z),E=(0,h.Z)(O().imageSize),P=(r={},(0,i.Z)(r,_.E.enterChallenge,{icon:{symbol:c.Z,color:"noir"},imageUrl:function(e){return(0,o.Z)(e,2)[1]||""}}),(0,i.Z)(r,_.E.likeMedium,{icon:{symbol:s.Z,color:"red"},imageUrl:function(e){return(0,u.KV)(e)},title:function(e,t,n){return t.t("modal.intents.".concat(_.E.likeMedium,".title.").concat(n,".").concat(e.type))}}),(0,i.Z)(r,_.E.collectMedium,{icon:{symbol:a.Z,color:"purple"},imageUrl:function(e){return(0,u.KV)(e)},title:function(e,t,n){return t.t("modal.intents.".concat(_.E.collectMedium,".title.").concat(n).concat(n===j.vB.login?".".concat(e.type):""))}}),(0,i.Z)(r,_.E.followUser,{icon:{symbol:l.Z,color:"green"},imageUrl:function(e){var t=(0,v.je)(e),n=(0,v.cr)({imgixUrl:t,size:E});return t.includes("gravatar")?n.src:t},title:function(e,t,n){return t.t("modal.intents.".concat(_.E.followUser,".title.").concat(n),{user:(0,w.Z)(e.attributes)})}}),(0,i.Z)(r,_.E.joinCommunity,{icon:{symbol:b,color:"green"},imageUrl:function(e){if(e.attributes.image)return e.attributes.image;var t,n=null===(t=e.relationships.media.data[0])||void 0===t?void 0:t.id;return n?(0,y.L)(n):""}}),(0,i.Z)(r,_.E.uploadFiles,{icon:{symbol:d.Z,color:"green"},imageUrl:function(){return""},title:function(e,t,n){return t.t("medium:post-download-pexels-ad.auth.title.".concat(n))},subtitle:function(e,t,n){return t.t("medium:post-download-pexels-ad.auth.subtitle.".concat(n))},buttonText:function(e,t,n){return t.t("medium:post-download-pexels-ad.auth.form.".concat(n,".submit"))},buttonTheme:"shadow"}),r)},8500:function(e,t,n){"use strict";n.d(t,{qi:function(){return T},vB:function(){return C},GT:function(){return x},fI:function(){return A}});var r,i,o,u=n(18529),c=n(65605),a=n(72347),s=n(73710),l=n(94713),d=(o={},(0,l.Z)(o,s.E.enterChallenge,s.Q.contributor),(0,l.Z)(o,s.E.likeMedium,s.Q.consumer),(0,l.Z)(o,s.E.collectMedium,s.Q.consumer),(0,l.Z)(o,s.E.followUser,s.Q.consumer),(0,l.Z)(o,s.E.joinCommunity,s.Q.contributor),(0,l.Z)(o,s.E.attendEvent,s.Q.contributor),(0,l.Z)(o,s.E.uploadFiles,s.Q.contributor),o),f=n(5338),m=n(23810),p=n(28332),g=n.n(p),b=n(44713),v=n.n(b),y=n(90227),h=n(33106),w=n(82040),j=n(92719),_=n(11031),Z=n(22648),O=n(79746),E=v()(function(){return n.e(87253).then(n.bind(n,87253))},{loadableGenerated:{webpack:function(){return[87253]}}}),P=n(48282),x=((r={})[r.accountTypeSelection=0]="accountTypeSelection",r[r.register=1]="register",r[r.login=2]="login",r[r.survey=3]="survey",r[r.emailSignup=4]="emailSignup",r),C=((i={}).register="register",i.login="login",i),M={authMode:C.register,currentView:x.register,setCurrentView:function(){},setAccountType:function(){},onSuccess:function(){}},k=(0,u.createContext)(M),S=[s.E.collectMedium,s.E.followUser,s.E.likeMedium],T=function(e){var t,n,r,i,o,p,b,v,M,T,A,D,U,G,z,F=e.intent,H=e.explicitAccountType,Q=e.onRequestClose,I=e.children,V=e.onViewChange,B=(0,c.ZP)(),L=B.signedIn,N=B.user,R=(G=(U=(0,u.useState)(void 0))[0],z=U[1],{accountType:(0,u.useMemo)(function(){return H||G||(F?d[F.type]:void 0)},[H,G,F]),setAccountType:z}),q=R.accountType,X=R.setAccountType,J=(t=(0,y.useRouter)(),r=(n=(0,Z.ZP)()).mediaIdsLiked,i=n.likeMedium,o=n.userIdsFollowed,p=n.followUser,v=(b=(0,w.Z)()).isJoined,M=b.joinCommunity,T=(0,_.dd)().showModal,A=(0,h.Z)(),D=(0,u.useMemo)(function(){var e,n,u,c;return e={},(0,l.Z)(e,s.E.enterChallenge,function(e){var n=(0,m.Z)(e,1)[0];t.push((0,j.Tp)({challengeSlug:n.attributes.slug,i18n:A}).href)}),(0,l.Z)(e,s.E.likeMedium,(n=(0,f.Z)(g().mark(function e(t){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r[t.id]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,i(t,!0);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})),(0,l.Z)(e,s.E.collectMedium,function(e){T(O.default,{medium:e})}),(0,l.Z)(e,s.E.followUser,(u=(0,f.Z)(g().mark(function e(t){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o[t.id]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,p(t,!0);case 5:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})),(0,l.Z)(e,s.E.joinCommunity,(c=(0,f.Z)(g().mark(function e(t){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,M.trigger(t);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})),(0,l.Z)(e,s.E.attendEvent,function(e){T(E,{event:e})}),e},[p,A,v,M,i,r,t,T,o]),F?D[F.type]:null),$=(0,u.useState)(q?x.register:x.accountTypeSelection),K=$[0],W=$[1],Y=(0,u.useState)(C.register),ee=Y[0],et=Y[1],en=(0,a.f)().openWelcomeBanner;(0,u.useEffect)(function(){switch(K){case x.register:et(C.register);break;case x.login:et(C.login)}null==V||V(K)},[K,V]);var er=(0,u.useMemo)(function(){return L&&!F&&q===s.Q.consumer&&(null==N?void 0:N.attributes.show_survey)===!0&&(null==N?void 0:N.attributes.photographer)===!1},[L,F,q,null==N?void 0:N.attributes.photographer,null==N?void 0:N.attributes.show_survey]),ei=(0,u.useMemo)(function(){return ee===C.register&&!!(!F||S.includes(F.type))&&q===s.Q.consumer},[F,ee,q]),eo=(0,u.useCallback)(function(){F&&J&&J(F.datum),ei&&en({authIntent:F}),null==Q||Q()},[J,F,Q,en,ei]);return(0,u.useEffect)(function(){if(!q){W(x.accountTypeSelection);return}if(er){W(x.survey);return}W(x.register)},[q,er]),(0,u.useEffect)(function(){L&&!er&&eo()},[L,eo,er]),(0,P.jsx)(k.Provider,{value:{intent:F,accountType:q,setAccountType:X,currentView:K,setCurrentView:W,authMode:ee,onSuccess:eo},children:I})},A=function(){return(0,u.useContext)(k)}},73710:function(e,t,n){"use strict";n.d(t,{E:function(){return u},Q:function(){return o}});var r,i,o=((r={}).contributor="contributor",r.consumer="consumer",r),u=((i={}).enterChallenge="enter_challenge",i.likeMedium="like_medium",i.collectMedium="collect_medium",i.followUser="follow_user",i.joinCommunity="join_community",i.attendEvent="attend_event",i.uploadFiles="upload_files",i)},82040:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(33106),i=n(85743),o=n(24715),u=n(92436);function c(){var e=(0,r.Z)("communities").t,t=(0,u.ZP)().addAlert;return{isJoined:function(e){return e.attributes.joined},joinCommunity:(0,o.f)(i.GX,{onSuccess:function(){t({type:"success",message:e("join_success"),timeoutMs:3e3})},onError:function(){t({type:"error",message:e("join_error"),timeoutMs:3e3})}}),leaveCommunity:(0,o.f)(i.tR,{onSuccess:function(){t({type:"success",message:e("leave_success"),timeoutMs:3e3})},onError:function(){t({type:"error",message:e("leave_error"),timeoutMs:3e3})}})}}},85743:function(e,t,n){"use strict";n.d(t,{$:function(){return p},C8:function(){return m},GX:function(){return w},Sq:function(){return v},Vc:function(){return h},ZV:function(){return g},gE:function(){return b},i1:function(){return y},tR:function(){return j}});var r=n(23810),i=n(94713),o=n(91341),u=n(10086),c=n(71351),a=n(54184),s=n(69566),l=n(60058);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){return void 0!==e.attributes.leaderboard_views},p=(0,u.xk)(function(e){return"/api/v3/communities/".concat(e)},(0,u.Nv)()),g=(0,u.H9)()(function(e,t){var n=t.cursor;return"/api/v3/communities/".concat((0,a.j)(e),"/feed?").concat((0,s.Pz)({seed:n,per_page:12,seo_tags:!0}))});l.Q.register(g);var b=(0,u.EP)()(function(e,t){var n=t.page;return"/api/v3/communities/".concat((0,a.j)(e),"/members?page=").concat(n,"&per_page=12")}),v=(0,u.EP)()(function(e,t){var n=e.community,r=e.leaderboard,i=e.span,o=e.perPage,u=e.includeCurrentUser,c=t.page;return"/api/v3/communities/".concat((0,a.j)(n),"/leaderboard?").concat((0,s.Pz)({page:c,per_page:void 0===o?12:o,span:i,type:r,include_current_user:u?"1":void 0}))}),y=(0,u.xk)(function(e){return"/api/v3/communities/".concat((0,a.j)(e),"/events/upcoming")},(0,u.Nv)()),h=(0,u.xk)(function(e){return"/api/v3/communities/".concat((0,a.j)(e),"/events/past")},(0,u.Nv)()),w=(0,u.H$)(function(e){var t=e.id;return["POST","/api/v3/communities/".concat(t,"/join"),null]},(0,u.Nv)(),{onSuccess:function(e){var t=e.id,n=e.attributes.slug;(0,o.Z)({name:"community",action:"join",id:t}),(0,c.P)(p,{matcher:n,mutator:function(e){var t=e.data;return{included:e.included,data:f(f({},t),{},{attributes:f(f({},t.attributes),{},{joined:!0})})}}}),(0,c.P)(v,{matcher:function(e){return(0,r.Z)(e,3)[2].includes("/".concat(t,"/"))},revalidate:!0})}}),j=(0,u.H$)(function(e){var t=e.id;return["DELETE","/api/v3/communities/".concat(t,"/leave"),null]},(0,u.Nv)(),{onSuccess:function(e){var t=e.id,n=e.attributes.slug;(0,o.Z)({name:"community",action:"leave",id:t}),(0,c.P)(p,{matcher:n}),(0,c.P)(v,{matcher:function(e){return(0,r.Z)(e,3)[2].includes("/".concat(t,"/"))}})}})},79746:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(94713),i=n(44713),o=n.n(i),u=n(89508),c=n(24115),a=n(48282);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=o()(function(){return Promise.all([n.e(93690),n.e(25378),n.e(86859),n.e(13994)]).then(n.bind(n,38115))},{loading:c.Z,loadableGenerated:{webpack:function(){return[38115]}}});function f(e){return(0,a.jsx)(u.Z,l(l({},e),{},{isOpen:!0,verticalPadding:50,horizontalPadding:50,children:!!e.medium&&(0,a.jsx)(d,l({},e))}))}},24115:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(90458),i=n(41402),o=n(48282);function u(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{height:70,marginBottom:30}),(0,o.jsxs)(r.Z,{gridTemplateColumns:"repeat(auto-fit, minmax(125px, 1fr))",gridColumnGap:15,gridRowGap:15,children:[(0,o.jsx)(i.Z,{responsiveSquare:!0}),(0,o.jsx)(i.Z,{responsiveSquare:!0})]})]})}},90458:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(94713),i=n(21841),o=n.n(i),u=n(18529),c=n(82695),a=n(46852),s=n(71775),l=n.n(s),d=n(48282);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){var t=e.children,n=e.inline,r=e.gridTemplateAreas,i=e.gridTemplateRows,s=e.gridTemplateColumns,f=e.gridTemplateColumnsMobile,p=e.gridGap,g=e.gridColumnGap,b=e.gridRowGap,v=e.width,y=e.tag,h=void 0===y?(0,d.jsx)("div",{}):y,w=(0,c.Z)({display:n?"inline-grid":"grid",gridTemplateAreas:r,gridTemplateRows:i,gridTemplateColumns:s,gap:p,columnGap:g,rowGap:b,width:v}),j=null,_={};return f&&(j=l().cssGridMobile,_["--grid-tc-mobile"]=f),(0,u.cloneElement)(h,{style:m(m({},w),_),className:o()(e.className,j,(0,a.Z)(e)),children:t})}},38737:function(e,t,n){"use strict";function r(e){return parseInt(e.split("px")[0],10)}n.d(t,{Z:function(){return r}})},78297:function(e){e.exports={imageSize:"120px",imageContainer:"AuthFormHeader_imageContainer__d14Qz",image:"AuthFormHeader_image__0odwz",imageLoadingBox:"AuthFormHeader_imageLoadingBox__JbltL",icon:"AuthFormHeader_icon__7_jz5",red:"AuthFormHeader_red__CASps",green:"AuthFormHeader_green__cwBXb",purple:"AuthFormHeader_purple__X9guk",yellow:"AuthFormHeader_yellow__tER_U",noir:"AuthFormHeader_noir__dFnAi"}},71775:function(e){e.exports={cssGridMobile:"CSSGrid_cssGridMobile__prifj"}}}]);
//# sourceMappingURL=74611-d8bc03a2d9eeab75.js.map